class l extends Error{name="Exception"}const i=e=>{const r=(e.html||"").trim(),t=[];Array.isArray(e.css)?t.push(...e.css):e.css&&t.push(e.css);const n=[];Array.isArray(e.js)?n.push(...e.js):e.js&&n.push(e.js);const o=new DOMParser().parseFromString(r,"text/html");for(let s=0;s<t.length;s++){const c=t[s];if(c&&typeof c=="string"){const a=c.trim();o.head.insertAdjacentHTML("beforeend",`<style>${a}</style>`)}}for(let s=0;s<n.length;s++){const c=n[s];if(c&&typeof c=="string"){const a=c.trim();o.body.insertAdjacentHTML("beforeend",`<script>${a}<\/script>`)}}return o.documentElement.outerHTML},m=["allow-modals","allow-forms","allow-pointer-lock","allow-popups","allow-same-origin","allow-scripts"],f=["geolocation","midi","camera","microphone","speaker"],u=e=>{const r=document.createElement("iframe"),{sandbox:t,allow:n}=e||{};return r.sandbox=t||m.join(" "),r.allow=n||f.join(";"),r},d=e=>{if(typeof e=="string"){const r=document.querySelector(e);if(r)return r}else if(e instanceof Element)return e;return null},w=e=>{const r=e.container&&d(e.container)||null;if(!r)throw new l;const t=i(e.source),n=e.sanbox instanceof HTMLIFrameElement?e.sanbox:u(e.sanbox);return n.srcdoc=t,r.appendChild(n),n};export{i as c,w as r};
