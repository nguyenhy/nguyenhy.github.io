import{r as u,c as p}from"./web.BeWlXjdw.js";class y extends HTMLElement{connectedCallback(){const d=this.dataset.cid||"",e=window.$astroProps[d],i=this.querySelector(".o--playground_choices-reset"),h=this.querySelectorAll(".o--playground_choices-btn")||[],m=this.querySelector(".o--playground_choices-preview"),c=this.querySelector(".o--playground_choices-iframe");u({source:{html:e.html,css:e.css,js:e.js},container:m,sanbox:c});const n=c.parentNode;n&&n instanceof Element&&(c.height=n.scrollHeight.toString());const o=e.selected;typeof o=="number"&&o>=0&&i&&i.addEventListener("click",()=>{const t=this.querySelector(`.o--playground_choices-btn[data-index="${o}"]`),s=e.cases[o];t&&s&&a(t,s)}),h.forEach((t,s)=>{const r=e.cases[s];t.addEventListener("click",l=>{a(t,r)})});const a=(t,s)=>{const r=p({html:e.html||s.html||"",css:[e.css||"",s.css||""],js:[e.js||"",s.js||""]});c.srcdoc=r,this.querySelectorAll(".o--playground_choices-btn.m--active").forEach(l=>{l.classList.remove("m--active")}),t.classList.add("m--active")}}}customElements.define("astro-playground-choices",y);
